<!DOCTYPE html>
<html>
<head>
<title>AI YAAR</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#eef;display:flex;justify-content:center}
.box{width:400px;background:#fff;padding:10px;border-radius:10px}
button{margin:4px;padding:6px}
.hidden{display:none}
</style>
</head>
<body>

<div class="box">
<h3>ğŸ¤– AI YAAR</h3>

<div id="loginBox">
<input id="name" placeholder="Enter Name">
<button onclick="login()">Login</button>
</div>

<div id="app" class="hidden">
<p id="welcome"></p>

<h4>ğŸ“š Lessons</h4>
<button onclick="loadLesson('lesson1')">AI kya hai</button>
<button onclick="loadLesson('lesson2')">AI Daily Life</button>
<button onclick="loadLesson('lesson3')">ChatGPT</button>
<button onclick="loadLesson('lesson4')">ğŸ’° AI Earning ğŸ”’</button>
<button onclick="loadLesson('lesson5')">ğŸš€ AI Career ğŸ”’</button>

<p id="content"></p>

<button onclick="startQuiz()">ğŸ“ Start Quiz</button>
<p id="quiz"></p>
</div>
</div>

<script>
const API="https://ai-yaar-teacher.onrender.com";
let user="", currentLesson="";

function login(){
  user=document.getElementById("name").value;
  fetch(API+"/login",{method:"POST",headers:{"Content-Type":"application/json"},
  body:JSON.stringify({name:user})})
  .then(r=>r.json()).then(d=>{
    document.getElementById("welcome").innerText=d.msg;
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");
  });
}

function loadLesson(l){
  currentLesson=l;
  fetch(API+"/lesson",{method:"POST",headers:{"Content-Type":"application/json"},
  body:JSON.stringify({lesson:l,user:user})})
  .then(r=>r.json()).then(d=>{
    document.getElementById("content").innerText=d.locked?d.msg:d.content;
  });
}

function startQuiz(){
  fetch(API+"/quiz",{method:"POST",headers:{"Content-Type":"application/json"},
  body:JSON.stringify({lesson:currentLesson})})
  .then(r=>r.json()).then(q=>{
    if(!q){quiz.innerText="No quiz";return;}
    quiz.innerHTML=`${q.q}<br>
    <button onclick="ans(0)">A</button>
    <button onclick="ans(1)">B</button>
    <button onclick="ans(2)">C</button>
    <button onclick="ans(3)">D</button>`;
    window.correct=q.answer;
  });
}

function ans(i){
  quiz.innerText = i==correct ? "âœ… Correct!" : "âŒ Wrong";
}
</script>

</body>
</html>
